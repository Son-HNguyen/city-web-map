<gridster [options]="options">
  <gridster-item *ngIf="itemPos.menuBar >= 0"
                 [item]="dashboard[itemPos.menuBar]"
                 (itemChange)="layoutChanged()">
    <span color="primary"><b>&nbsp;city-web-map&nbsp;</b></span>
    <button mat-stroked-button
            matTooltip="Open existing workspace | Ctrl+O">
      <span class="material-icons">drive_file_move_rtl</span>&nbsp;Open
    </button>
    <button id="buttonSaveWorkspace"
            mat-stroked-button
            matTooltip="Save current workspace | Ctrl+S"
            (click)="handleSave()">
      <span class="material-icons">save</span>&nbsp;Save
    </button>
    <button id="buttonSaveWorkspaceAs"
            mat-stroked-button
            matTooltip="Save as ... | Ctrl+Alt+S" (click)="handleSaveAs()">
      <span class="material-icons">archive</span>&nbsp;Save as ...
    </button>
    <button id="buttonNewWorkspace"
            mat-stroked-button
            matTooltip="Create new workspace | Ctrl+Alt+N" (click)="handleNew()">
      <span class="material-icons">add_box</span>&nbsp;New
    </button>
    <app-button-toggle-layout (buttonToggleValue)="handleToggleValue($event)"
                              [changedLayout]="changedLayout">
    </app-button-toggle-layout>
    <app-settings></app-settings>
    <app-cheat-sheet></app-cheat-sheet>
    <button mat-stroked-button
            matTooltip="Show help information">
      <span class="material-icons">help_center</span>&nbsp;Help
    </button>
    <button mat-stroked-button
            matTooltip="Join us on GitHub">
      <img src="/assets/images/thirdParty/GitHub-Mark-32px.png" width="30%"/>&nbsp;GitHub
    </button>
  </gridster-item>
  <gridster-item *ngIf="itemPos.layerList >= 0"
                 [item]="dashboard[itemPos.layerList]"
                 (itemChange)="layoutChanged()">
    <app-layer-list></app-layer-list>
  </gridster-item>
  <gridster-item *ngIf="itemPos.menuContext >= 0"
                 [item]="dashboard[itemPos.menuContext]"
                 (itemChange)="layoutChanged()">
    <app-menu-context></app-menu-context>
  </gridster-item>
  <gridster-item *ngIf="itemPos.menu >= 0"
                 [item]="dashboard[itemPos.menu]"
                 (itemChange)="layoutChanged()">
    <app-menu></app-menu>
  </gridster-item>
  <gridster-item *ngIf="itemPos.nav >= 0"
                 [item]="dashboard[itemPos.nav]"
                 (itemChange)="layoutChanged()">
    <app-nav></app-nav>
  </gridster-item>
  <gridster-item *ngIf="itemPos.info >= 0"
                 [item]="dashboard[itemPos.info]"
                 (itemChange)="layoutChanged()">
    <app-info></app-info>
  </gridster-item>
  <gridster-item *ngIf="itemPos.viewList >= 0"
                 [item]="dashboard[itemPos.viewList]"
                 (itemChange)="layoutChanged()">
    <app-view-list></app-view-list>
  </gridster-item>
  <gridster-item *ngIf="itemPos.status >= 0"
                 [item]="dashboard[itemPos.status]"
                 (itemChange)="layoutChanged()">
    <app-status></app-status>
  </gridster-item>
  <gridster-item *ngIf="itemPos.globe >= 0"
                 [item]="dashboard[itemPos.globe]"
                 (itemChange)="layoutChanged()">
    <div appCesium></div>
    <div class="corner-top corner-left">
      <app-move-cesium></app-move-cesium>
      <!-- TODO Add app shadow -->
      <!-- TODO Add app 3D/2D -->
    </div>
    <div class="corner-top corner-right">
      <!-- TODO Implement -->
      <app-search-location></app-search-location>
      <!-- TODO Implement -->
      <app-fly-home></app-fly-home>
    </div>
    <div class="corner-bottom corner-left">
      <!-- TODO Implement -->
      <!-- TODO Move clock/timeline app to a gridster item? -->
      <app-timeline></app-timeline>
    </div>
    <div class="corner-bottom corner-right">
      <app-fullscreen [fullscreenActive]="fullscreenActive"
                      (fullscreenActiveChange)="handleFullscreen($event)">
      </app-fullscreen>
    </div>
  </gridster-item>
</gridster>
